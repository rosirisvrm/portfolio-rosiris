---
import type { Project } from "@/types"
import ActionButton from "@/components/ActionButton.astro"
import SearchIcon from "@/components/icons/SearchIcon.astro"

interface Props{
    project: Project;
}

const { project: { id, title, resume, imgUrl, status } } = Astro.props;

// To astro view transition in project image
// transition:name={`project-${id}`}
---

<div class="flex flex-col bg-secondary-400 dark:bg-primary-800 
    p-5 rounded-2xl gap-y-3 mb-4 shadow-lg justify-between
    xl:w-[360px] lg:w-[330px] md:w-[290px] w-[300px] 
">
    <div class="flex flex-col">
        {imgUrl &&
            <img 
                src={`/${imgUrl}.png`} 
                class="w-full h-32 md:h-48 rounded-xl mb-4"
            />
        }
        <div class="flex items-center mb-2 gap-x-3">
            <h5 class="capitalize font-bold text-lg text-white">
                {status === 'coming soon' ? 'Coming soon...' : title}
            </h5>
            {status === 'new' && 
                <span class="bg-purple-700 text-white dark:bg-[#F7B801] dark:text-[#2D3748] text-xs font-bold px-3 py-1 rounded-full uppercase">
                    New
                </span>
            }
        </div>
        <p class="mb-5 text-sm text-white">
            {resume}
        </p>
    </div>
    {(id && status !== 'coming soon') && 
        <div class="flex mx-auto">
            <ActionButton href={`/project/${id}`} lightStyles="bg-pink-50 text-black/60 hover:text-secondary-500">
                <SearchIcon class="sm:size-4 size-3" />
                View detail
            </ActionButton>
        </div>
    }
</div>
