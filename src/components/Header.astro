---
import { sections } from "../data";
import BurguerMenuIcon from './icons/BurguerMenuIcon.astro';
import DarkModeButton from "./DarkModeButton.astro";
import ButtonIcon from './ButtonIcon.astro';
---

<header class="bg-white dark:bg-black flex justify-between sm:justify-center items-center px-10 lg:px-32 py-5 w-full">
    <nav class="
        hidden
        sm:flex flex-row justify-center items-center 
        sm:gap-x-7 lg:gap-x-10 gap-y-2 sm:gap-y-0 text-center flex-1
    ">
        {sections.map((sec) => (
            <a class="text-black/60 dark:text-white opacity-80 hover:opacity-100" href={sec.href}>{sec.title}</a>
        ))}
    </nav>

    <button id="menu-toggle" class="sm:hidden text-black/60 dark:text-white">
        <BurguerMenuIcon class="size-6" />
    </button>

    <div class="flex flex-row items-center ms-3 gap-x-1 lg:gap-x-2">
        <!-- <ButtonIcon>
            <span class="text-black/60 dark:text-white font-bold leading-0.5">ES</span>
        </ButtonIcon> -->

        <DarkModeButton />
    </div>
</header>

<!-- Mobile Menu -->
<div id="mobile-menu" class="hidden md:hidden bg-transparent w-full min-h-screen z-50 absolute">
    <div class="
        flex-col p-4 bg-white dark:bg-black w-3/4 min-h-screen absolute right-0
        transition-all duration-300 ease-in-out
    ">
        <nav class="flex flex-col gap-4 p-4 text-white">
            {sections.map((sec) => (
                <a class="text-black/60 dark:text-white opacity-80" href={sec.href}>{sec.title}</a>
            ))}
        </nav>
    </div>
</div>

<script>
  const toggleButton = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  if(toggleButton && mobileMenu){
    toggleButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    mobileMenu.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
    })
  }
</script>